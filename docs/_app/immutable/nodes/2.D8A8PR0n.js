import{f as x,a as w,c as ve}from"../chunks/BulsPGjr.js";import{a3 as $,E as le,ap as fe,aq as ce,J as de,f as ue,ar as pe,as as me,L as _e,n as N,a0 as ee,a1 as ae,a2 as he,p as A,u as ge,y as U,g as D,i as h,r as g,j as b,x as Y,q as _,am as G,V as S,W as we,T as ye}from"../chunks/CqYQfX-R.js";import{a as be,w as xe,s as B,e as O,d as ke}from"../chunks/DY34Nxtc.js";import{b as J,i as V}from"../chunks/CmY8PgX-.js";import{h as X,s as K,P as Ce,i as Te,j as C,H as Le,k as Fe,g as Se,C as Ee,e as qe,l as He,K as Me,U as Pe,m as Ve,n as Z,o as te}from"../chunks/CwpOdk7u.js";import{o as Q,a as Ae}from"../chunks/C2O7KKvm.js";import{i as De}from"../chunks/DK1Q2xMB.js";const Ne=()=>performance.now(),T={tick:t=>requestAnimationFrame(t),now:()=>Ne(),tasks:new Set};function se(){const t=T.now();T.tasks.forEach(e=>{e.c(t)||(T.tasks.delete(e),e.f())}),T.tasks.size!==0&&T.tick(se)}function Ze(t){let e;return T.tasks.size===0&&T.tick(se),{promise:new Promise(a=>{T.tasks.add(e={c:t,f:a})}),abort(){T.tasks.delete(e)}}}function z(t,e){xe(()=>{t.dispatchEvent(new CustomEvent(e))})}function Re(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function re(t){const e={},a=t.split(";");for(const o of a){const[n,c]=o.split(":");if(!n||c===void 0)break;const v=Re(n.trim());e[v]=c.trim()}return e}const We=t=>t;function je(t,e,a,o){var n=(t&pe)!==0,c="both",v,f=e.inert,d=e.style.overflow,l,i;function p(){var u=he,k=$;ee(null),ae(null);try{return v??(v=a()(e,(o==null?void 0:o())??{},{direction:c}))}finally{ee(u),ae(k)}}var y={is_global:n,in(){e.inert=f,z(e,"introstart"),l=I(e,p(),i,1,()=>{z(e,"introend"),l==null||l.abort(),l=v=void 0,e.style.overflow=d})},out(u){e.inert=!0,z(e,"outrostart"),i=I(e,p(),l,0,()=>{z(e,"outroend"),u==null||u()})},stop:()=>{l==null||l.abort(),i==null||i.abort()}},m=$;if((m.transitions??(m.transitions=[])).push(y),be){var r=n;if(!r){for(var s=m.parent;s&&s.f&le;)for(;(s=s.parent)&&!(s.f&fe););r=!s||(s.f&ce)!==0}r&&de(()=>{ue(()=>y.in())})}}function I(t,e,a,o,n){var c=o===1;if(me(e)){var v,f=!1;return _e(()=>{if(!f){var u=e({direction:c?"in":"out"});v=I(t,u,a,o,n)}}),{abort:()=>{f=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return n(),{abort:N,deactivate:N,reset:N,t:()=>o};const{delay:d=0,css:l,tick:i,easing:p=We}=e;var y=[];if(c&&a===void 0&&(i&&i(0,1),l)){var m=re(l(0,1));y.push(m,m)}var r=()=>1-o,s=t.animate(y,{duration:d});return s.onfinish=()=>{var u=(a==null?void 0:a.t())??1-o;a==null||a.abort();var k=o-u,E=e.duration*Math.abs(k),R=[];if(E>0){var L=!1;if(l)for(var F=Math.ceil(E/16.666666666666668),q=0;q<=F;q+=1){var W=u+k*p(q/F),j=re(l(W,1-W));R.push(j),L||(L=j.overflow==="hidden")}L&&(t.style.overflow="hidden"),r=()=>{var H=s.currentTime;return u+k*p(H/E)},i&&Ze(()=>{if(s.playState!=="running")return!1;var H=r();return i(H,1-H),!0})}s=t.animate(R,{duration:E,fill:"forwards"}),s.onfinish=()=>{r=()=>o,i==null||i(o,1-o),n()}},{abort:()=>{s&&(s.cancel(),s.effect=null,s.onfinish=N)},deactivate:()=>{n=N},reset:()=>{o===0&&(i==null||i(1,0))},t:()=>r()}}var ze=x("<div> </div>");function Oe(t,e){A(e,!0);let a;function o(f){if(!a.clientWidth||!a.clientHeight)return;const d=f.clientX,l=f.clientY,i=window.innerWidth,p=window.innerHeight,y=i*3/4,m=p*1/4,r=d<y?d+2:d-a.clientWidth,s=l<m?l+2:l-a.clientHeight;a.style.left=r+"px",a.style.top=s+"px"}ge(()=>{a.style.display=X.message?"block":"none"}),Q(()=>{document.addEventListener("mousemove",o)}),Ae(()=>{document.removeEventListener("mousemove",o)});var n=ze();let c;var v=h(n,!0);g(n),J(n,f=>a=f,()=>a),U(f=>{c=K(n,1,"svelte-1oshjcz",null,c,f),B(v,X.message)},[()=>({special:X.special})]),w(t,n),D()}var Be=x('<div class="pgrid"><div class="pgrid-row"><span>method</span> <span> </span></div> <div class="pgrid-row"><span>level</span> <span> </span></div></div>');function Ke(t,e){A(e,!0),Ce(t,{title:"vtf â†’ compression",children:(a,o)=>{var n=Be(),c=h(n),v=b(h(c),2),f=h(v,!0);g(v),g(c);var d=b(c,2),l=b(h(d),2),i=h(l,!0);g(l),g(d),g(n),U(()=>{B(f,Te[e.vtf.compression_method]??"none"),B(i,e.vtf.compression_level===-1?"default":e.vtf.compression_level)}),w(a,n)}}),D()}var Ue=x('<div id="sidebar-panels" class="svelte-2xoldc"><!> <!> <!></div>'),Xe=x('<h1 class="svelte-2xoldc">Drop</h1>'),Ye=x('<h1> </h1> <div id="sidebar" class="svelte-2xoldc"><!></div>',1);function Ie(t,e){A(e,!0);let a,o=G(!1);function n(r){const s=r.target.scrollTop;S(o,s>14)}function c(){if(!a)return console.warn("whoops");navigator.userAgent.includes("Firefox/")&&(a.style.left="calc(2rem + 11px)")}Q(()=>c());var v=Ye(),f=Y(v);let d;var l=h(f,!0);g(f),J(f,r=>a=r,()=>a);var i=b(f,2),p=h(i);{var y=r=>{var s=Ue(),u=h(s);Le(u,{get vtf(){return C.vtf},get fileSize(){return C.fileSize}});var k=b(u,2);{var E=L=>{Ke(L,{get vtf(){return C.vtf}})};V(k,L=>{C.vtf.compression_level&&L(E)})}var R=b(k,2);Fe(R,17,()=>C.vtf.meta,He,(L,F)=>{var q=ve(),W=Y(q);{var j=M=>{Ee(M,{get chunk(){return _(F)}})},H=(M,ie)=>{{var oe=P=>{Me(P,{get chunk(){return _(F)}})},ne=P=>{Pe(P,{get chunk(){return _(F)}})};V(M,P=>{_(F)instanceof qe?P(oe):P(ne,!1)},ie)}};V(W,M=>{_(F)instanceof Se?M(j):M(H,!1)})}w(L,q)}),g(s),w(r,s)},m=r=>{var s=Xe();w(r,s)};V(p,r=>{C.vtf?r(y):r(m,!1)})}g(i),U(r=>{d=K(f,1,"svelte-2xoldc",null,d,r),B(l,C.fileName)},[()=>({hidden:_(o)})]),O("scroll",i,n),w(t,v),D()}var Ge=x('<canvas class="svelte-13mmrj3"></canvas>');function Je(t,e){A(e,!1);let a=we();Q(()=>{if(!_(a))throw"whoops no canvas";new Ve(_(a))}),De();var o=Ge();J(o,n=>S(a,n),()=>_(a)),w(t,o),D()}const Qe=t=>t;function $e(t,{delay:e=0,duration:a=400,easing:o=Qe}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:o,css:c=>`opacity: ${c*n}`}}var ea=(t,e)=>e(Z.ArrayFrames),aa=(t,e)=>e(Z.Single),ta=x('<div id="menubar-positioner" class="svelte-ih5c7k"><div id="menubar" class="svelte-ih5c7k"><button aria-label="array mode"><svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#e3e3e3" class="svelte-ih5c7k"><path d="M16,6C16.55,6 17.021,6.196 17.412,6.588C17.804,6.979 18,7.45 18,8L18,20C18,20.55 17.804,21.021 17.412,21.413C17.021,21.804 16.55,22 16,22L4,22C3.45,22 2.979,21.804 2.587,21.413C2.196,21.021 2,20.55 2,20L2,8C2,7.45 2.196,6.979 2.587,6.588C2.979,6.196 3.45,6 4,6L16,6ZM20,2C20.55,2 21.021,2.196 21.413,2.587C21.804,2.979 22,3.45 22,4L22,18L20,18L20,4L6,4L6,2L20,2Z"></path></svg></button> <button aria-label="flat mode"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3" class="svelte-ih5c7k"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm40-80h480L570-480 450-320l-90-120-120 160Zm-40 80v-560 560Zm140-360q25 0 42.5-17.5T400-620q0-25-17.5-42.5T340-680q-25 0-42.5 17.5T280-620q0 25 17.5 42.5T340-560Z"></path></svg></button></div></div>');function ra(t,e){A(e,!0);let a=G(ye(Z.None));te.subscribe(i=>{S(a,i,!0)});function o(i){te.set(i),S(a,i,!0)}var n=ta(),c=h(n),v=h(c);v.__click=[ea,o];let f;var d=b(v,2);d.__click=[aa,o];let l;g(c),g(n),U((i,p)=>{f=K(v,1,"svelte-ih5c7k",null,f,i),l=K(d,1,"svelte-ih5c7k",null,l,p)},[()=>({active:_(a)===Z.ArrayFrames}),()=>({active:_(a)===Z.Single})]),w(t,n),D()}ke(["click"]);var sa=x("<!> <!>",1),ia=x('<div id="drag-text-underlay" class="svelte-wpmayo"><h3>drag a .vtf to view</h3></div>'),oa=x('<div id="drag-overlay" class="svelte-wpmayo"></div>'),na=x('<main class="svelte-wpmayo"><!> <!> <!> <!></main>');function ma(t,e){A(e,!0);let a=G(!1);function o(r){r.preventDefault(),S(a,!0)}function n(r){S(a,!1)}function c(r){r.preventDefault(),r.dataTransfer&&r.dataTransfer.files.length&&(S(a,!1),C.loadFromFile(r.dataTransfer.files[0]))}var v=na(),f=h(v);{var d=r=>{var s=sa(),u=Y(s);Ie(u,{});var k=b(u,2);ra(k,{}),w(r,s)},l=r=>{var s=ia();w(r,s)};V(f,r=>{C.vtf?r(d):r(l,!1)})}var i=b(f,2);Je(i,{});var p=b(i,2);Oe(p,{});var y=b(p,2);{var m=r=>{var s=oa();je(3,s,()=>$e,()=>({duration:.2})),w(r,s)};V(y,r=>{_(a)&&r(m)})}g(v),O("dragover",v,o),O("dragexit",v,n),O("drop",v,c),w(t,v),D()}export{ma as component};
